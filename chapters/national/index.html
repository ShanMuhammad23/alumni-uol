<!doctype html>
<html class="no-js" lang="zxx">

<head>
   <meta charset="utf-8">
   <meta http-equiv="x-ua-compatible" content="ie=edge">
   <title>National Alumni Chapters | UOL Alumni</title>
   <meta name="description" content="">
   <meta name="viewport" content="width=device-width, initial-scale=1">

   <link rel="shortcut icon" type="image/x-icon" href="/assets/img/icon/favicon.ico">

   <link rel="stylesheet" href="/assets/css/bootstrap.css">
   <link rel="stylesheet" href="/assets/css/animate.css">
   <link rel="stylesheet" href="/assets/css/swiper-bundle.css">
   <link rel="stylesheet" href="/assets/css/slick.css">
   <link rel="stylesheet" href="/assets/css/magnific-popup.css">
   <link rel="stylesheet" href="/assets/css/font-awesome-pro.css">
   <link rel="stylesheet" href="/assets/css/spacing.css">
   <link rel="stylesheet" href="/assets/css/main.css">
</head>

<body>

   <!-- pre loader area start -->
   <div id="loading">
      <div id="loading-center">
         <div id="loading-center-absolute">
            <div class="tp-preloader-content">
               <div class="tp-preloader-logo">
                  <div class="tp-preloader-circle">
                     <svg width="190" height="190" viewBox="0 0 380 380" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle stroke="#D9D9D9" cx="190" cy="190" r="180" stroke-width="6" stroke-linecap="round"></circle>
                        <circle stroke="red" cx="190" cy="190" r="180" stroke-width="6" stroke-linecap="round"></circle>
                     </svg>
                  </div>
                  <img src="/assets/img/brand/short-logo.png" alt="">
               </div>
               <p class="tp-preloader-subtitle">Loading...</p>
            </div>
         </div>
      </div>
   </div>
   <!-- pre loader area end -->

   <!-- back to top start -->
   <div class="back-to-top-wrapper">
      <button id="back_to_top" type="button" class="back-to-top-btn">
         <svg width="12" height="7" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 6L6 1L1 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
         </svg>
      </button>
   </div>
   <!-- back to top end -->

    <!-- header-area-start -->
    <header class="header-area tp-header-transparent p-relative">

      <div id="header-sticky" class="tp-header-mob-space tp-header-1">
         <div class="pl-40 pr-40">
            <div class="row align-items-center">
               <div class="col-xxl-2 col-xl-2 col-lg-6 col-md-4 col-4">
                  <div class="tp-header-logo-1 tp-header-logo">
                     <a href="/">
                        <img class="logo-1" src="/assets/img/brand/logo-white.png" alt="logo">
                        <img class="logo-2" src="/assets/img/brand/logo-black.png" alt="logo">
                     </a>
                  </div>
               </div>
               <div class="col-xxl-8 col-xl-7 d-none d-xl-block">
                  <div class="main-menu text-center">
                     <nav class="tp-main-menu-content">
                        <ul>
                           <li class=" tp-static">
                              <a class="tp-static" href="/">Home</a>
                           </li>
                           <li class="">
                              <a href="/about/">About</a>

                           </li>
                           <li class="">
                              <a href="/jobs/">Jobs</a>

                           </li>
                           <li class=" tp-static">
                              <a class="tp-static" href="/events/">Events</a>

                           </li>
                           <li class="">
                              <a href="/benefits/">Perks & Benefits</a>
                           </li>
                           <li class="">
                              <a href="/give-back/">Give Back</a>

                           </li>
                           <li class="">
                              <a href="/associations/">Associations</a>
                           </li>
                          
                           <li class="has-dropdown">
                              <a href="/chapters/">Chapters</a>
                              <ul class="tp-submenu">
                                 <li><a href="/chapters/national/">National Chapters</a></li>
                                 <li><a href="/chapters/international/">International Chapters</a></li>
                              </ul>
                           </li>
                           <li>
                              <a href="/newsletters/">Newsletters</a>
                           </li>
                           <li class="">
                              <a href="/contact/">Contact</a>
                           </li>
                        </ul>
                     </nav>
                  </div>
               </div>
               <div class="col-xxl-2 col-xl-3 col-lg-6 col-md-6 col-8">
                  <div class="tp-header-contact d-flex align-items-center justify-content-end flex-nowrap">

                     <div class="tp-header-btn d-block">
                        <a href="https://portal-alumni.uol.edu.pk/signin" target="_blank">Alumni Login </a>
                     </div>
                     <div class="tp-header-bar d-xl-none">
                        <button class="offcanvas-open-btn"><i class="fa-solid fa-bars"></i></button>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </header>
   <!-- header-area-end -->


   <!-- offcanvas area start -->
   <div class="offcanvas__area">
      <div class="offcanvas__wrapper">
         <div class="offcanvas__close">
            <button class="offcanvas__close-btn offcanvas-close-btn">
               <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11 1L1 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M1 1L11 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
               </svg>
            </button>
         </div>
         <div class="offcanvas__content">
            <div class="offcanvas__top mb-90 d-flex justify-content-between align-items-center">
               <div class="offcanvas__logo tp-header-logo">
                  <a href="/">
                     <img src="/assets/img/brand/logo-black.png" alt="logo">
                  </a>
               </div>
            </div>
            <div class="offcanvas-main">
               <div class="tp-main-menu-mobile d-xl-none"></div>
               <div class="tp-header-btn mt-30 d-md-none">
                  <a href="https://portal-alumni.uol.edu.pk/signin" target="_blank">Alumni Login </a>
               </div>
            </div>
         </div>
      </div>
   </div>
   <div class="body-overlay"></div>
   <!-- offcanvas area end -->

   <!-- offcanvas area end -->
   <main>
      <section class="tp-breadcrumb__area pt-160 pb-150 p-relative z-index-1 fix red-shadow">
         
         <div class="container">
            <div class="row align-items-center">
               <div class="col-sm-12">
                  <div class="tp-breadcrumb__content">
                     <div class="tp-breadcrumb__list inner-after">
                        <span class="white"><a href="/"><svg width="17" height="14" viewBox="0 0 17 14"
                                 fill="none" xmlns="http://www.w3.org/2000/svg">
                                 <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M8.07207 0C8.19331 0 8.31107 0.0404348 8.40664 0.114882L16.1539 6.14233L15.4847 6.98713L14.5385 6.25079V12.8994C14.538 13.1843 14.4243 13.4574 14.2225 13.6589C14.0206 13.8604 13.747 13.9738 13.4616 13.9743H2.69231C2.40688 13.9737 2.13329 13.8603 1.93146 13.6588C1.72962 13.4573 1.61597 13.1843 1.61539 12.8994V6.2459L0.669148 6.98235L0 6.1376L7.7375 0.114882C7.83308 0.0404348 7.95083 0 8.07207 0ZM8.07694 1.22084L2.69231 5.40777V12.8994H13.4616V5.41341L8.07694 1.22084Z"
                                    fill="currentColor" />
                              </svg></a></span>
                        <span class="white"><a href="/chapters/">Chapters</a></span>
                        <span class="white">National Chapters</span>
                     </div>
                     <h3 class="tp-breadcrumb__title color">National Chapters</h3>
                  </div>
               </div>
            </div>
            <!-- Members Count Badge - Bottom Right -->
            <div class="tp-members-badge" style="position: absolute; bottom: 30px; right: 30px; background: rgba(255, 255, 255, 0.95); padding: 20px 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15); z-index: 10;">
               <div style="text-align: center;">
                  <div style="font-size: 36px; font-weight: 700; color: var(--tp-theme-primary, #AB0C2F); margin-bottom: 5px;" id="chapters-national-members-hero">0</div>
                  <div style="font-size: 14px; color: #666; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">Total Members</div>
               </div>
            </div>
         </div>
      </section>

      <!-- Map and Chapter Links Section - Map Left, Links Right Side -->
      <section class="program-area pt-80 pb-60" style="background: #f8f9fa;">
         <div class="pl-40 pr-40">
            <p class="mb-40">         <p>Our alumni chapters around the world create local networks that help keep the UOL spirit alive, no matter where our graduates are. These chapters organize regional events, strengthen professional and social connections and provide opportunities for alumni to engage with their peers and support university initiatives. They serve as vibrant communities that strengthen the global UOL alumni network.</p>
         </p>
            <div class="row align-items-start">
            
               <!-- Right Side: National Chapters Links -->
               <div class="col-12">
                  <div class="tp-national-chapters-links" id="national-chapters-links">
                     <!-- Links will be loaded dynamically -->
                  </div>
               </div>
            </div>
         </div>
      </section>

      <!-- Chapter Cards Section - Full Width Grid Below -->
      <section class="program-area pt-0 pb-90" style="background: #f8f9fa;">
         <div class="pl-40 pr-40">
            <div class="row">
               <div class="col-12">
                  <!-- Chapters Loader -->
                  <div id="chapters-loader" class="text-center py-80">
                     <div class="tp-preloader-content">
                        <div class="tp-preloader-logo">
                           <div class="tp-preloader-circle">
                              <svg width="190" height="190" viewBox="0 0 380 380" fill="none" xmlns="http://www.w3.org/2000/svg">
                                 <circle stroke="#D9D9D9" cx="190" cy="190" r="180" stroke-width="6" stroke-linecap="round"></circle>
                                 <circle stroke="red" cx="190" cy="190" r="180" stroke-width="6" stroke-linecap="round"></circle>
                              </svg>
                           </div>
                        </div>
                        <p class="tp-preloader-subtitle" style="color: black;">Loading National Chapters...</p>
                     </div>
                  </div>

                  <!-- National Chapters Section -->
                  <div class="chapter-section-wrapper" id="national-chapters-section" style="display: none;">
                     <div class="chapter-section-header d-flex align-items-center justify-content-between mb-40">
                        <!-- <h4 class="tp-section-title mb-0">National Chapters</h4> -->
                        <button class="chapter-toggle-btn" type="button" aria-expanded="true" aria-controls="local-chapters-collapse">
                           <i class="fa-solid fa-chevron-down"></i>
                        </button>
                     </div>
                     <div class="chapter-collapsible-content" id="local-chapters-collapse" style="transform-origin: top; transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease-in-out, max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);">
                        <div class="row" id="local-chapters-list">
                           <!-- National chapters will be loaded here -->
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </section>
   </main>

   <!-- footer-area-start -->
   <footer>
      <div class="tp-footer-main pt-80 pb-55" style="background-color: #f5f5f5;">
         <div class="container">
            <div class="row">
               <div class="col-xl-4 col-lg-3 col-sm-6">
                  <div class="tp-footer-widget tp-footer-col-1 mb-30">
                     <div class="tp-footer-widget-logo mb-20 tp-header-logo">
                        <a href="/"><img src="/assets/img/brand/logo-black.png" alt="" style="width: 200px;"></a>
                     </div>
                  </div>
               </div>
               <div class="col-xl-2 col-lg-3 col-sm-6">
                  <div class="tp-footer-widget tp-footer-col-2 mb-30">
                     <h4 class="tp-footer-widget-title mb-20">Quick Links</h4>
                     <div class="tp-footer-widget-link">
                        <ul>
                             <li><a href="/about/">About Us</a></li>
                           <li><a href="/jobs/">Jobs</a></li>
                           <li><a href="/events/">Events</a></li>
                           <li><a href="/newsletters/">Newsletters</a></li>
                           <li><a href="/contact/">Contact Us</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="col-xl-2 col-lg-2 col-sm-4">
                  <div class="tp-footer-widget tp-footer-col-3 mb-30">
                     <h4 class="tp-footer-widget-title mb-20">Alumni</h4>
                     <div class="tp-footer-widget-link">
                        <ul>
                           <li><a href="/benefits/">Alumni Perks & Benefits</a></li>
                           <li><a href="/give-back/">Give Back</a></li>
                           <li><a href="/associations/">Alumni Associations</a></li>
                           <li><a href="/chapters/national/">National Chapters</a></li>
 <li><a href="/chapters/international/">International Chapters</a></li>
                           
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="col-xl-4 col-lg-4 col-sm-8">
                  <div class="p-footer-widget tp-footer-col-4 mb-30">
                     <div class="tp-footer-newsletter-wrap">
                        <div class="tp-footer-newsletter-social">
                           <a class="social-fb" href="https://www.facebook.com/Uni.Lhr.AlumniRelations" target="_blank"><i class="fa-brands fa-facebook-f"></i></a>
                           <a class="social-lnkd" href="https://www.linkedin.com/company/uol-alumni-relations" target="_blank"><i class="fa-brands fa-linkedin-in"></i></a>
                           <a class="social-yout" href="https://www.instagram.com/oar.uol" target="_blank"><i class="fa-brands fa-instagram"></i></a>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="tp-footer-bottom">
         <div class="container">
            <div class="row">
               <div class="col-lg-12">
                  <div class="tp-footer-copyright text-center">
                     <span>Â© 2026 <a href="#">UoL Alumni</a>. All rights reserved by The University of Lahore</span>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </footer>
   <!-- footer-area-end -->

   <!-- JS here -->
   <script src="/assets/js/vendor/jquery.js"></script>
   <script src="/assets/js/vendor/waypoints.js"></script>
   <script src="/assets/js/bootstrap-bundle.js"></script>
   <script src="/assets/js/swiper-bundle.js"></script>
   <script src="/assets/js/slick.js"></script>
   <script src="/assets/js/magnific-popup.js"></script>
   <script src="/assets/js/nice-select.js"></script>
   <script src="/assets/js/purecounter.js"></script>
   <script src="/assets/js/wow.js"></script>
   <script src="/assets/js/isotope-pkgd.js"></script>
   <script src="/assets/js/hover-reveal.js"></script>
   <script src="/assets/js/tween-max.js"></script>
   <script src="/assets/js/imagesloaded-pkgd.js"></script>
   <script src="/assets/js/flatpickr.js"></script>
   <script src="/assets/js/ajax-form.js"></script>
   <script src="/assets/js/main.js"></script>

   <!-- API Client Library -->
   <script src="/assets/js/api-client.js"></script>
   <script type="text/javascript" src="/assets/map/mapdata.js"></script>
   <script type="text/javascript" src="/assets/map/countrymap.js"></script>

   <style>
      /* Map container styles */
      #map {
         width: 100%;
         position: relative;
         overflow: hidden;
         max-width: 100%;
      }

      /* Hide copyright anchor tag in map */
      #map_inner > div > a,
      #map_inner div a,
      [id*="inner"] > div > a,
      [id*="inner"] div a,
      #map [id*="inner"] > div > a,
      #map [id*="inner"] div a,
      #map > div > div > a,
      .tp-chapter-map-wrapper [id*="inner"] > div > a,
      .tp-chapter-map-wrapper [id*="inner"] div a {
         display: none !important;
         visibility: hidden !important;
         opacity: 0 !important;
         height: 0 !important;
         width: 0 !important;
         overflow: hidden !important;
         position: absolute !important;
         left: -9999px !important;
      }

      .tp-chapters-right .tp-chapter-map-wrapper {
         width: 100%;
         max-width: 100%;
         margin: 0 auto;
         position: relative;
         background: white;
         border-radius: 16px;
         padding: 20px;
         box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.08);
      }

      .tp-chapter-map-wrapper {
      
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.08);
      width: 100%;
      overflow: hidden;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
   }

   .tp-chapter-map-wrapper #map {

      min-height: 0;
      max-height: 540px;
      width: 100%;
      max-width: 100%;
      box-sizing: border-box;
      flex: 0 0 auto;
      overflow: hidden;
      position: relative;
   }

   /* Ensure map internal elements don't overflow */
   .tp-chapter-map-wrapper #map>* {
      max-width: 100%;
      max-height: 100%;
   }

   .tp-chapter-map-wrapper #map svg {
      max-width: 100% !important;
      max-height: 540px !important;
      width: 100% !important;
      height: auto !important;
      display: block;
   }

   /* Ensure any direct children of map respect height */
   .tp-chapter-map-wrapper #map>div,
   .tp-chapter-map-wrapper #map>svg {
      max-height: 540px !important;
      height: auto !important;
   }

   /* Map holder container and all SimpleMaps containers */
   .tp-chapter-map-wrapper #map_holder,
   .tp-chapter-map-wrapper [id^="map_holder"],
   .tp-chapter-map-wrapper [id*="_holder"] {
      width: 100% !important;
      max-width: 100% !important;
      height: 100% !important;
      max-height: 100% !important;
      overflow: hidden !important;
      box-sizing: border-box;
   }

   /* Ensure all map wrapper divs respect boundaries */
   .tp-chapter-map-wrapper [id*="map"],
   .tp-chapter-map-wrapper [id*="holder"] {
      max-width: 100%;
      max-height: 100%;
   }

   .tp-chapter-map-wrapper img {
      width: 100%;
      height: auto;
      max-height: calc(600px - 60px);
      display: block;
      object-fit: contain;
   }

   /* Hide copyright/attribution links in map wrapper */
   .tp-chapter-map-wrapper a[href*="openstreetmap"],
   .tp-chapter-map-wrapper a[href*="copyright"],
   .tp-chapter-map-wrapper a[title*="OpenStreetMap"],
   .tp-chapter-map-wrapper a[title*="copyright"],
   .tp-chapter-map-wrapper [id*="inner"] a {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
      height: 0 !important;
      width: 0 !important;
      overflow: hidden !important;
   }

   /* Map legend styles */
   .tp-map-legend {
      position: absolute;
      top: 20px;
      left: 20px;
      background: white;
      padding: 15px 20px;
      border-radius: 8px;
      box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);
      z-index: 1;
      display: flex;
      flex-direction: column;
      gap: 10px;
      font-size: 14px;
   }


   .tp-map-legend-item {
      display: flex;
      align-items: center;
      gap: 10px;
   }

   .tp-map-legend-circle {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      flex-shrink: 0;
   }

   .tp-map-legend-circle.active {
      background-color: #ef4444;
   }

   .tp-map-legend-circle.coming {
      background-color: blue;
   }

   .tp-map-legend-caption {
      color: #333;
      font-weight: 500;
   }

   .city-pin {
      transition: transform 0.3s ease;
      display: block;
   }

   .city-pin:hover {
      transform: scale(1.3);
   }

   .city-pin circle {
      transition: all 0.3s ease;
   }

   .city-pin:hover circle {
      fill: #8a0a25 !important;
      r: 10;
   }

   @keyframes pulse {
      0% {
         opacity: 0.4;
         transform: scale(1);
      }

      50% {
         opacity: 0.6;
         transform: scale(1.1);
      }

      100% {
         opacity: 0.4;
         transform: scale(1);
      }
   }

   .pulse-animation {
      animation: pulse 2s ease-in-out infinite;
   }

 /* Hide copyright/attribution links in map wrapper */
 .tp-chapter-map-wrapper a[href*="openstreetmap"],
   .tp-chapter-map-wrapper a[href*="copyright"],
   .tp-chapter-map-wrapper a[title*="OpenStreetMap"],
   .tp-chapter-map-wrapper a[title*="copyright"],
   .tp-chapter-map-wrapper [id*="inner"] a {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
      height: 0 !important;
      width: 0 !important;
      overflow: hidden !important;
   }
   #map_zoom {
      display: none;
   }
      .tp-chapter-section-title {
         font-size: 32px;
         font-weight: 600;
         color: var(--tp-heading-primary, #161613);
         margin-bottom: 20px;
      }

      .tp-national-chapters-links {
         display: flex;
         flex-direction: column;
         flex-wrap: wrap;
         gap: 12px;
         padding: 20px;
         max-width: 100%;
         height: 100%;
         align-content: flex-start;
      }

      @media (min-width: 992px) {
         .tp-national-chapters-links {
            max-height: 500px;
         }
      }

      .tp-chapter-link {
         display: inline-flex;
         align-items: center;
         gap: 8px;
         padding: 12px 20px;
         background: white;
         border-radius: 8px;
         text-decoration: none;
         color: var(--tp-heading-primary);
         font-weight: 500;
         transition: all 0.3s ease;
         box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
         width: 100%;
         max-width: 100%;
      }

      @media (min-width: 992px) {
         .tp-chapter-link {
            width: calc(50% - 6px);
            max-width: calc(50% - 6px);
         }
      }

      .tp-chapter-link:hover {
         background: var(--tp-theme-primary);
         color: white;
         transform: translateX(5px);
         text-decoration: none;
      }

      .tp-chapter-link i {
         color: var(--tp-theme-primary);
         transition: color 0.3s ease;
      }

      .tp-chapter-link:hover i {
         color: white;
      }

      /* Members Badge Styles */
      .tp-members-badge {
         animation: fadeInUp 0.6s ease-out;
      }

      @keyframes fadeInUp {
         from {
            opacity: 0;
            transform: translateY(20px);
         }
         to {
            opacity: 1;
            transform: translateY(0);
         }
      }

      @media (max-width: 991px) {
         .program-area .container {
            padding-left: 15px;
            padding-right: 15px;
         }
      }

      @media (max-width: 768px) {
         .tp-members-badge {
            position: relative !important;
            bottom: auto !important;
            right: auto !important;
            margin-top: 20px;
            width: 100%;
         }

         .tp-chapter-map-wrapper #map {
            height: 400px;
            min-height: 300px;
         }

         .tp-chapter-map-wrapper {
            padding: 15px;
         }

         .tp-map-legend {
            position: relative;
            bottom: auto;
            left: auto;
            margin-top: 15px;
            justify-content: center;
         }

         .tp-national-chapters-links {
            max-height: none;
            flex-direction: column;
         }

         .tp-chapter-link {
            width: 100%;
            max-width: 100%;
         }
      }
      /* Ensure chapter cards are equal height */
      #local-chapters-list {
         display: flex;
         flex-wrap: wrap;
      }
      #local-chapters-list > [class*="col-"] {
         display: flex;
      }

      /* Chapter Card Styling - Equal Heights and Alignment */
      .tp-financial-item {
         display: flex;
         flex-direction: column;
         height: 100%;
      }

      .tp-financial-thumb {
         flex-shrink: 0;
         height: 220px;
         min-height: 220px;
         display: flex;
         align-items: center;
         justify-content: center;
      }

      .tp-financial-content {
         display: flex;
         flex-direction: column;
         flex: 1;
         padding: 25px;
      }

      .tp-financial-content > div:first-child {
         display: flex;
         flex-direction: column;
         flex: 1;
         min-height: 0;
      }

      .tp-financial-content-title {
         margin-bottom: 15px;
         min-height: 50px;
         display: flex;
         align-items: center;
      }

      .tp-financial-content p {
         flex: 1;
         margin-bottom: 15px;
         min-height: 60px;
         display: -webkit-box;
         -webkit-line-clamp: 3;
         line-clamp: 3;
         -webkit-box-orient: vertical;
         overflow: hidden;
         text-overflow: ellipsis;
      }

      .tp-financial-content .d-flex.align-items-center {
         margin-top: auto;
         margin-bottom: 15px;
         min-height: 30px;
      }

      .tp-about-btn {
         margin-top: auto;
         padding-top: 15px;
      }

      /* Collapsible Chapter Sections */
      .chapter-section-wrapper {
         position: relative;
      }

      .chapter-section-header {
         cursor: pointer;
         user-select: none;
      }

      .chapter-toggle-btn {
         background: transparent;
         border: 2px solid var(--tp-theme-primary, #AB0C2F);
         color: var(--tp-theme-primary, #AB0C2F);
         width: 45px;
         height: 45px;
         border-radius: 50%;
         display: flex;
         align-items: center;
         justify-content: center;
         transition: all 0.3s ease;
         cursor: pointer;
         flex-shrink: 0;
         margin-left: 20px;
      }

      .chapter-toggle-btn:hover {
         background: var(--tp-theme-primary, #AB0C2F);
         color: white;
         transform: scale(1.1);
      }

      .chapter-toggle-btn i {
         transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
         font-size: 18px;
      }

      .chapter-toggle-btn[aria-expanded="false"] i {
         transform: rotate(-180deg);
      }

      .chapter-collapsible-content {
         overflow: hidden;
         max-height: 10000px;
         opacity: 1;
         transform: scaleY(1);
      }

      .chapter-collapsible-content.collapsed {
         max-height: 0;
         opacity: 0;
         transform: scaleY(0);
         margin-bottom: 0;
      }

      /* Chapters Loader Styling */
      #chapters-loader {
         min-height: 400px;
         display: flex;
         align-items: center;
         justify-content: center;
      }

      #chapters-loader .tp-preloader-content {
         text-align: center;
      }

      #chapters-loader .tp-preloader-logo {
         position: relative;
         display: inline-block;
         margin-bottom: 20px;
      }

      #chapters-loader .tp-preloader-circle {
         position: relative;
         width: 120px;
         height: 120px;
         margin: 0 auto;
         animation: rotate 2s linear infinite;
      }

      #chapters-loader .tp-preloader-circle svg {
         width: 100%;
         height: 100%;
      }

      #chapters-loader .tp-preloader-circle circle:last-child {
         stroke-dasharray: 565;
         stroke-dashoffset: 565;
         animation: dash 1.5s ease-in-out infinite;
      }

      #chapters-loader .tp-preloader-logo img {
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         width: 60px;
         height: 60px;
         object-fit: contain;
      }

      #chapters-loader .tp-preloader-subtitle {
         color: var(--tp-theme-primary, #AB0C2F);
         font-size: 18px;
         font-weight: 500;
         margin-top: 20px;
      }

      @keyframes rotate {
         100% {
            transform: rotate(360deg);
         }
      }

      @keyframes dash {
         0% {
            stroke-dashoffset: 565;
         }
         50% {
            stroke-dashoffset: 0;
         }
         100% {
            stroke-dashoffset: -565;
         }
      }

      /* Dashboard Card Styles */
      .dashboard-card {
         background: linear-gradient(135deg, rgba(171, 12, 47, 0.05) 0%, rgba(171, 12, 47, 0.02) 100%);
         border: 1px solid rgba(171, 12, 47, 0.15);
         border-radius: 16px;
         padding: 30px;
         text-align: center;
         transition: all 0.3s ease;
         box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }

      .dashboard-card:hover {
         transform: translateY(-4px);
         box-shadow: 0 8px 24px rgba(171, 12, 47, 0.15);
         border-color: rgba(171, 12, 47, 0.3);
      }

      .dashboard-card__number {
         font-size: 42px;
         font-weight: 700;
         color: var(--tp-theme-primary, #AB0C2F);
         margin-bottom: 8px;
         line-height: 1.2;
      }

      .dashboard-card__label {
         font-size: 16px;
         color: #666;
         font-weight: 500;
         text-transform: uppercase;
         letter-spacing: 0.5px;
      }

      .tp-btn.active {
         background: var(--tp-theme-primary, #AB0C2F);
         color: white;
      }

      @media (max-width: 768px) {
         .chapter-section-header {
            flex-direction: column;
            gap: 15px;
         }
         .chapter-toggle-btn {
            margin-left: 0;
         }
         .tp-financial-thumb {
            height: 180px;
            min-height: 180px;
         }
         .tp-financial-content-title {
            min-height: auto;
         }
         .tp-financial-content p {
            min-height: auto;
            -webkit-line-clamp: 2;
            line-clamp: 2;
         }
         #chapters-loader {
            min-height: 300px;
         }
         #chapters-loader .tp-preloader-circle {
            width: 100px;
            height: 100px;
         }
         #chapters-loader .tp-preloader-logo img {
            width: 50px;
            height: 50px;
         }
         .dashboard-card {
            padding: 24px 20px;
         }
         .dashboard-card__number {
            font-size: 36px;
         }
         .dashboard-card__label {
            font-size: 14px;
         }
      }
   </style>

   <script>
      // API client is loaded via script tag above

      // Fetch total count of verified alumni with chapters filtered by chapter IDs
      // SQL equivalent: SELECT COUNT(*) FROM tbl_alumni a JOIN alumni_chapter c ON a.alumniid = c.id
      // WHERE a.verify = 'true' AND (c.chapter1 IN (chapterIds) OR c.chapter2 IN (chapterIds) OR c.chapter3 IN (chapterIds))
      async function getTotalVerifiedAlumniWithChapters(chapterIds) {
         if (!window.apiClient || !chapterIds || chapterIds.length === 0) return 0;

         try {
            const { data: counts, error } = await window.apiClient.getChapterMemberCounts(chapterIds);
            
            if (error) {
               console.error('Error fetching chapter member counts:', error);
               return 0;
            }

            // Sum all counts
            return Object.values(counts).reduce((sum, count) => sum + (count || 0), 0);
         } catch (error) {
            console.error('Unexpected error fetching total verified alumni count:', error);
            return 0;
         }
      }

      // Get national chapter IDs from API
      async function getNationalChapterIds() {
         if (!window.apiClient) return [];
         
         try {
            const { data: chapters, error } = await window.apiClient.getChapters({ type: 'national' });
            
            if (error) {
               console.error('Error fetching national chapter IDs:', error);
               return [];
            }
            
            return chapters ? chapters.map(ch => ch.id) : [];
         } catch (error) {
            console.error('Unexpected error fetching national chapter IDs:', error);
            return [];
         }
      }

      // Fetch member count for a chapter using API
      async function getChapterMemberCount(chapterId) {
         if (!window.apiClient || !chapterId) return 0;

         try {
            const { count, error } = await window.apiClient.getChapterMemberCount(chapterId);

            if (error) {
               console.error('Error fetching chapter member count:', error);
               return 0;
            }

            return count || 0;
         } catch (error) {
            console.error('Unexpected error fetching chapter member count:', error);
            return 0;
         }
      }

      // Helper to build chapter image URL from database filename
      function buildChapterImagePath(imageName) {
         if (!imageName) return null;
         // If already absolute URL, keep as is
         if (imageName.startsWith('http://') || imageName.startsWith('https://') || imageName.startsWith('//')) {
            return imageName;
         }
         const BASE_IMAGE_URL = 'https://portal-alumni.uol.edu.pk/images';
         return `${BASE_IMAGE_URL}/${imageName}`;
      }

      // Fetch all national chapters from API
      async function fetchNationalChapters() {
         if (!window.apiClient) return [];
         
         try {
            const { data: chapters, error } = await window.apiClient.getChapters({ type: 'national' });
            
            if (error) {
               console.error('Error fetching national chapters from API:', error);
               return [];
            }
            
            return chapters || [];
         } catch (error) {
            console.error('Unexpected error fetching national chapters:', error);
            return [];
         }
      }

      // Load national chapters from database
      async function loadChapters() {
         const localContainer = document.getElementById('local-chapters-list');
         const loader = document.getElementById('chapters-loader');
         const nationalSection = document.getElementById('national-chapters-section');

         // Show loader, hide section
         if (loader) loader.style.display = 'block';
         if (nationalSection) nationalSection.style.display = 'none';

         try {
            // Fetch national chapters from database
            const nationalChapters = await fetchNationalChapters();
            
            if (!nationalChapters || nationalChapters.length === 0) {
               localContainer.innerHTML = '<div class="col-12"><p class="text-center">No national chapters available.</p></div>';
               if (loader) loader.style.display = 'none';
               if (nationalSection) nationalSection.style.display = 'block';
               return;
            }

            // Get national chapter IDs for member count calculation
            const nationalChapterIds = nationalChapters.map(ch => ch.id);
            
            // Get unique count of verified alumni with national chapters
            const nationalMembers = await getTotalVerifiedAlumniWithChapters(nationalChapterIds);
            
            // Fetch member counts for national chapters in parallel
            const localChaptersWithCounts = await Promise.all(
               nationalChapters.map(async (chapter) => {
                  const dbCount = await getChapterMemberCount(chapter.id);
                  return {
                     id: chapter.id,
                     name: chapter.national_chapter || 'Chapter',
                     description: chapter.description || '',
                     image: buildChapterImagePath(chapter.chapter_image),
                     isActive: chapter.is_active !== false, // Default to true if null
                     memberCount: typeof dbCount === 'number' ? dbCount : 0
                  };
               })
            );

            localChaptersWithCounts.forEach(chapter => {
               const col = document.createElement('div');
               col.className = 'col-lg-3 col-md-3 col-sm-6 mb-30';
               
               col.innerHTML = `
                  <div class="tp-financial-item mb-30 h-100">
                     <div class="tp-financial-thumb" style="background: #f8f9fa; padding: 0; overflow: hidden;">
                        ${chapter.image ? 
                           `<img src="${chapter.image}" alt="${chapter.name}" style="width: 100%; height: 100%; object-fit: cover;">` :
                           `<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; padding: 30px;">
                              <i class="fa-solid fa-map-marker-alt" style="font-size: 60px; color: var(--tp-theme-primary, #AB0C2F);"></i>
                           </div>`
                        }
                     </div>
                        <div class="tp-financial-content">
                           <div>
                              <h4 class="tp-financial-content-title"><a href="/chapters/detail.html?id=${chapter.id}">${chapter.name}</a></h4>
                              <p>${chapter.description}</p>
                              <div class="d-flex align-items-center flex-wrap gap-2">
                                 <span class="badge ${chapter.isActive ? 'bg-success' : 'bg-secondary'}">${chapter.isActive ? 'Active' : 'Upcoming'}</span>
                                 <span class="d-inline-flex align-items-center gap-1 text-muted" style="font-size: 14px;">
                                    <i class="fa-solid fa-users"></i>
                                    <span>${chapter.memberCount.toLocaleString()} Members</span>
                                 </span>
                              </div>
                           </div>
                           <div class="tp-about-btn">
                              <a class="tp-btn tp-btn-sm" href="/chapters/detail.html?id=${chapter.id}">Learn More</a>
                           </div>
                        </div>
                  </div>
               `;
               localContainer.appendChild(col);
            });

            // Update members display in hero badge
            const nationalMembersEl = document.getElementById('chapters-national-members-hero');
            
            if (nationalMembersEl) {
               nationalMembersEl.textContent = nationalMembers > 0 ? nationalMembers.toLocaleString() : '0';
            }

            // Hide loader and show section
            if (loader) loader.style.display = 'none';
            if (nationalSection) nationalSection.style.display = 'block';
         } catch (error) {
            console.error('Error loading chapters:', error);
            // Hide loader and show section even on error
            if (loader) loader.style.display = 'none';
            if (nationalSection) nationalSection.style.display = 'block';
            localContainer.innerHTML = '<div class="col-12"><p class="text-center">Unable to load chapters. Please try again later.</p></div>';
         }
      }

      // Load chapters on page load
      loadChapters();

      // Load national chapters links for map
      async function loadNationalChaptersLinks() {
         const linksContainer = document.getElementById('national-chapters-links');
         if (!linksContainer) return;

         try {
            // Fetch national chapters from database
            const nationalChapters = await fetchNationalChapters();
            
            if (!nationalChapters || nationalChapters.length === 0) {
               return;
            }

            // Fetch member counts for all chapters in parallel
            const chaptersWithCounts = await Promise.all(
               nationalChapters.map(async (chapter) => {
                  const dbCount = await getChapterMemberCount(chapter.id);
                  return {
                     id: chapter.id,
                     name: chapter.national_chapter || 'Chapter',
                     memberCount: typeof dbCount === 'number' ? dbCount : 0
                  };
               })
            );

            // Create links for each national chapter with member counts
            const linksHTML = chaptersWithCounts.map(chapter => {
               const chapterName = chapter.name || 'Chapter';
               const citySlug = chapter.id.toString();
               const memberCount = chapter.memberCount || 0;
               
               return `
                  <a href="/chapters/detail.html?id=${chapter.id}" 
                     class="tp-chapter-link" 
                     data-city="${citySlug}"
                     title="${chapterName}">
                     <i class="fa-solid fa-map-marker-alt"></i>
                     <span>${chapterName} (${memberCount.toLocaleString()})</span>
                  </a>
               `;
            }).join('');

            linksContainer.innerHTML = linksHTML;

            // Add interactivity for map pins and links
            setupMapInteractivity();
         } catch (error) {
            console.error('Error loading national chapters links:', error);
         }
      }

      // Setup map pin and link interactivity
      function setupMapInteractivity() {
         const cityPins = document.querySelectorAll('.city-pin');
         const chapterLinks = document.querySelectorAll('.tp-chapter-link');

         // Highlight pin when link is hovered
         chapterLinks.forEach(link => {
            link.addEventListener('mouseenter', function () {
               const city = this.getAttribute('data-city');
               const pin = document.querySelector(`.city-pin[data-city="${city}"]`);
               if (pin) {
                  pin.style.transform = 'scale(1.3)';
                  const circle = pin.querySelector('circle');
                  if (circle) {
                     circle.setAttribute('fill', '#8a0a25');
                     circle.setAttribute('r', '10');
                  }
               }
            });

            link.addEventListener('mouseleave', function () {
               const city = this.getAttribute('data-city');
               const pin = document.querySelector(`.city-pin[data-city="${city}"]`);
               if (pin) {
                  pin.style.transform = 'scale(1)';
                  const circle = pin.querySelector('circle');
                  if (circle) {
                     circle.setAttribute('fill', '#AB0C2F');
                     circle.setAttribute('r', '8');
                  }
               }
            });
         });

         // Highlight link when pin is hovered
         cityPins.forEach(pin => {
            pin.addEventListener('mouseenter', function () {
               const city = this.getAttribute('data-city');
               const link = document.querySelector(`.tp-chapter-link[data-city="${city}"]`);
               if (link) {
                  link.style.background = 'var(--tp-theme-primary)';
                  link.style.color = 'white';
                  link.style.transform = 'translateX(5px)';
                  const icon = link.querySelector('i');
                  if (icon) icon.style.color = 'white';
               }
            });

            pin.addEventListener('mouseleave', function () {
               const city = this.getAttribute('data-city');
               const link = document.querySelector(`.tp-chapter-link[data-city="${city}"]`);
               if (link) {
                  link.style.background = 'white';
                  link.style.color = 'var(--tp-heading-primary)';
                  link.style.transform = 'translateX(0)';
                  const icon = link.querySelector('i');
                  if (icon) icon.style.color = 'var(--tp-theme-primary)';
               }
            });
         });
      }

      // Load national chapters links after map loads
      document.addEventListener('DOMContentLoaded', function() {
         // Wait for map to initialize
         setTimeout(() => {
            loadNationalChaptersLinks();
         }, 1000);
      });

      // Collapsible functionality
      document.addEventListener('DOMContentLoaded', function() {
         const toggleButtons = document.querySelectorAll('.chapter-toggle-btn');
         const sectionHeaders = document.querySelectorAll('.chapter-section-header');
         
         function toggleSection(button) {
            const targetId = button.getAttribute('aria-controls');
            const content = document.getElementById(targetId);
            const isExpanded = button.getAttribute('aria-expanded') === 'true';
            
            if (isExpanded) {
               // Collapse
               content.classList.add('collapsed');
               button.setAttribute('aria-expanded', 'false');
            } else {
               // Expand
               content.classList.remove('collapsed');
               button.setAttribute('aria-expanded', 'true');
            }
         }
         
         toggleButtons.forEach(button => {
            button.addEventListener('click', function(e) {
               e.stopPropagation();
               toggleSection(this);
            });
         });

         sectionHeaders.forEach(header => {
            header.addEventListener('click', function(e) {
               // Only toggle if clicking on the header itself, not the button
               if (e.target.closest('.chapter-toggle-btn')) {
                  return;
               }
               const button = this.querySelector('.chapter-toggle-btn');
               if (button) {
                  toggleSection(button);
               }
            });
         });
      });
   </script>

</body>

</html>

