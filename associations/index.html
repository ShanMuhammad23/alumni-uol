<!doctype html>
<html class="no-js" lang="zxx">

<head>
   <meta charset="utf-8">
   <meta http-equiv="x-ua-compatible" content="ie=edge">
   <title>Alumni Associations | UOL Alumni</title>
   <meta name="description" content="">
   <meta name="viewport" content="width=device-width, initial-scale=1">

   <link rel="shortcut icon" type="image/x-icon" href="/assets/img/icon/favicon.ico">

   <link rel="stylesheet" href="/assets/css/bootstrap.css">
   <link rel="stylesheet" href="/assets/css/animate.css">
   <link rel="stylesheet" href="/assets/css/swiper-bundle.css">
   <link rel="stylesheet" href="/assets/css/slick.css">
   <link rel="stylesheet" href="/assets/css/magnific-popup.css">
   <link rel="stylesheet" href="/assets/css/font-awesome-pro.css">
   <link rel="stylesheet" href="/assets/css/spacing.css">
   <link rel="stylesheet" href="/assets/css/main.css">
   <style>
      /* Association cards equal height and spacing */
      #associations-list [class*="col-"] {
         display: flex;
      }
      
      .tp-financial-item {
         display: flex;
         flex-direction: column;
         height: 100%;
      }
      
      .tp-financial-thumb {
         height: 200px;
         display: flex;
         align-items: center;
         justify-content: center;
         padding: 30px;
         background: #fff;
         flex-shrink: 0;
      }
      
      .tp-financial-thumb img {
         max-width: 100%;
         max-height: 100%;
         width: auto;
         height: auto;
         object-fit: contain;
      }
      
      .tp-financial-content {
         padding: 25px;
         display: flex;
         flex-direction: column;
         flex: 1 1 auto;
         gap: 15px;
      }
      
      .tp-financial-content-title {
         margin-bottom: 0;
      }
      
      .tp-financial-content p {
         flex: 1 1 auto;
         margin-bottom: 0;
      }
      
      .tp-financial-members {
         margin-bottom: 0;
      }
      
      .tp-about-btn {
         margin-top: auto;
         padding-top: 10px;
      }
      
      @keyframes tp-spin {
         to { transform: rotate(360deg); }
      }

      /* Dashboard Card Styles */
      .dashboard-card {
         background: linear-gradient(135deg, rgba(171, 12, 47, 0.05) 0%, rgba(171, 12, 47, 0.02) 100%);
         border: 1px solid rgba(171, 12, 47, 0.15);
         border-radius: 16px;
         padding: 30px;
         text-align: center;
         transition: all 0.3s ease;
         box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }

      .dashboard-card:hover {
         transform: translateY(-4px);
         box-shadow: 0 8px 24px rgba(171, 12, 47, 0.15);
         border-color: rgba(171, 12, 47, 0.3);
      }

      .dashboard-card__icon {
         width: 64px;
         height: 64px;
         margin: 0 auto 20px;
         background: linear-gradient(135deg, var(--tp-theme-primary, #AB0C2F), rgba(171, 12, 47, 0.8));
         border-radius: 16px;
         display: flex;
         align-items: center;
         justify-content: center;
         color: white;
         font-size: 28px;
      }

      .dashboard-card__number {
         font-size: 42px;
         font-weight: 700;
         color: var(--tp-theme-primary, #AB0C2F);
         margin-bottom: 8px;
         line-height: 1.2;
      }

      .dashboard-card__label {
         font-size: 16px;
         color: #666;
         font-weight: 500;
         text-transform: uppercase;
         letter-spacing: 0.5px;
      }

      /* Hero banner total members card positioning */
      .tp-breadcrumb__area .dashboard-card {
         position: absolute;
         bottom: 30px;
         right: 30px;
         max-width: 200px;
         background: rgba(255, 255, 255, 0.95);
         backdrop-filter: blur(10px);
         z-index: 10;
      }

      .tp-breadcrumb__area .dashboard-card__number {
         color: var(--tp-theme-primary, #AB0C2F);
      }

      .tp-breadcrumb__area .dashboard-card__label {
         color: #333;
      }

      @media (max-width: 768px) {
         .dashboard-card {
            padding: 24px 20px;
         }
         .dashboard-card__icon {
            width: 56px;
            height: 56px;
            font-size: 24px;
            margin-bottom: 16px;
         }
         .dashboard-card__number {
            font-size: 36px;
         }
         .dashboard-card__label {
            font-size: 14px;
         }
         .tp-breadcrumb__area .dashboard-card {
            bottom: 20px;
            right: 20px;
            max-width: 160px;
            padding: 10px 16px;
         }
         .tp-breadcrumb__area .dashboard-card__number {
            font-size: 32px;
         }
         .tp-breadcrumb__area .dashboard-card__label {
            font-size: 13px;
         }
      }
   </style>
</head>

<body>

   <!-- pre loader area start -->
   <div id="loading">
      <div id="loading-center">
         <div id="loading-center-absolute">
            <div class="tp-preloader-content">
               <div class="tp-preloader-logo">
                  <div class="tp-preloader-circle">
                     <svg width="190" height="190" viewBox="0 0 380 380" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle stroke="#D9D9D9" cx="190" cy="190" r="180" stroke-width="6" stroke-linecap="round"></circle>
                        <circle stroke="red" cx="190" cy="190" r="180" stroke-width="6" stroke-linecap="round"></circle>
                     </svg>
                  </div>
                  <img src="/assets/img/brand/short-logo.png" alt="">
               </div>
               <p class="tp-preloader-subtitle">Loading...</p>
            </div>
         </div>
      </div>
   </div>
   <!-- pre loader area end -->

   <!-- back to top start -->
   <div class="back-to-top-wrapper">
      <button id="back_to_top" type="button" class="back-to-top-btn">
         <svg width="12" height="7" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 6L6 1L1 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
         </svg>
      </button>
   </div>
   <!-- back to top end -->

   <!-- header-area-start -->
     <!-- header-area-start -->
     <header class="header-area tp-header-transparent p-relative">

      <div id="header-sticky" class="tp-header-mob-space tp-header-1">
         <div class="pl-40 pr-40">
            <div class="row align-items-center">
               <div class="col-xxl-2 col-xl-2 col-lg-6 col-md-4 col-4">
                  <div class="tp-header-logo-1 tp-header-logo">
                     <a href="/">
                        <img class="logo-1" src="/assets/img/brand/logo-white.png" alt="logo">
                        <img class="logo-2" src="/assets/img/brand/logo-black.png" alt="logo">
                     </a>
                  </div>
               </div>
               <div class="col-xxl-8 col-xl-7 d-none d-xl-block">
                  <div class="main-menu text-center">
                     <nav class="tp-main-menu-content">
                        <ul>
                           <li class=" tp-static">
                              <a class="tp-static" href="/">Home</a>
                           </li>
                           <li class="">
                              <a href="/about/">About</a>

                           </li>
                           <li class="">
                              <a href="/jobs/">Jobs</a>

                           </li>
                           <li class=" tp-static">
                              <a class="tp-static" href="/events/">Events</a>

                           </li>
                           <li class="">
                              <a href="/benefits/">Perks & Benefits</a>
                           </li>
                           <li class="">
                              <a href="/give-back/">Give Back</a>

                           </li>
                           <li class="">
                              <a href="/associations/">Associations</a>
                           </li>
                          
                           <li class="has-dropdown">
                              <a href="/chapters/">Chapters</a>
                              <ul class="tp-submenu">
                                 <li><a href="/chapters/national/">National Chapters</a></li>
                                 <li><a href="/chapters/international/">International Chapters</a></li>
                              </ul>
                           </li>
                           <li>
                              <a href="/newsletters/">Newsletters</a>
                           </li>
                           <li class="">
                              <a href="/contact/">Contact</a>
                           </li>
                        </ul>
                     </nav>
                  </div>
               </div>
               <div class="col-xxl-2 col-xl-3 col-lg-6 col-md-6 col-8">
                  <div class="tp-header-contact d-flex align-items-center justify-content-end flex-nowrap">

                     <div class="tp-header-btn d-block">
                        <a href="https://portal-alumni.uol.edu.pk/signin" target="_blank">Alumni Login </a>
                     </div>
                     <div class="tp-header-bar d-xl-none">
                        <button class="offcanvas-open-btn"><i class="fa-solid fa-bars"></i></button>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </header>
   <!-- header-area-end -->


   <!-- offcanvas area start -->
   <div class="offcanvas__area">
      <div class="offcanvas__wrapper">
         <div class="offcanvas__close">
            <button class="offcanvas__close-btn offcanvas-close-btn">
               <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11 1L1 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M1 1L11 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
               </svg>
            </button>
         </div>
         <div class="offcanvas__content">
            <div class="offcanvas__top mb-90 d-flex justify-content-between align-items-center">
               <div class="offcanvas__logo tp-header-logo">
                  <a href="/">
                     <img src="/assets/img/brand/logo-black.png" alt="logo">
                  </a>
               </div>
            </div>
            <div class="offcanvas-main">
               <div class="tp-main-menu-mobile d-xl-none"></div>
               <div class="tp-header-btn mt-30 d-md-none">
                  <a href="https://portal-alumni.uol.edu.pk/signin" target="_blank">Alumni Login </a>
               </div>
            </div>
         </div>
      </div>
   </div>
   <div class="body-overlay"></div>
   <!-- offcanvas area end -->

   <!-- offcanvas area end -->
   <main>
      <section class="tp-breadcrumb__area pt-160 pb-150 p-relative z-index-1 fix red-shadow">
         
         <div class="container">
            <div class="row align-items-center">
               <div class="col-sm-12">
                  <div class="tp-breadcrumb__content">
                     <div class="tp-breadcrumb__list inner-after">
                        <span class="white"><a href="index.html"><svg width="17" height="14" viewBox="0 0 17 14"
                                 fill="none" xmlns="http://www.w3.org/2000/svg">
                                 <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M8.07207 0C8.19331 0 8.31107 0.0404348 8.40664 0.114882L16.1539 6.14233L15.4847 6.98713L14.5385 6.25079V12.8994C14.538 13.1843 14.4243 13.4574 14.2225 13.6589C14.0206 13.8604 13.747 13.9738 13.4616 13.9743H2.69231C2.40688 13.9737 2.13329 13.8603 1.93146 13.6588C1.72962 13.4573 1.61597 13.1843 1.61539 12.8994V6.2459L0.669148 6.98235L0 6.1376L7.7375 0.114882C7.83308 0.0404348 7.95083 0 8.07207 0ZM8.07694 1.22084L2.69231 5.40777V12.8994H13.4616V5.41341L8.07694 1.22084Z"
                                    fill="currentColor" />
                              </svg></a></span>
                        <span class="white">Alumni Associations</span>
                     </div>
                     <h3 class="tp-breadcrumb__title color">Associations</h3>
                  </div>
               </div>
            </div>
            <div class="dashboard-card">
               <div class="dashboard-card__number" id="associations-total-members">0</div>
               <div class="dashboard-card__label">Members</div>
            </div>
           
         </div>
      </section>
       
      <section class="program-area  pb-90 pt-40">
         <div class="container">
            <p>The Alumni Associations are at the heart of our alumni network. They serve as a platform for maintaining strong connections with your alma mater, faculty, and fellow graduates. As a member, you will be part of a dynamic group that actively contributes to the growth and development of the university, organizes events and creates opportunities for alumni to engage with each other. Be part of something bigger by joining the UOL Alumni Association and make your voice heard in shaping our community.</p>
            <div class="row" id="associations-list">
            </div>
         </div>
      </section>
   </main>

   <!-- footer-area-start -->
   <footer>
      <div class="tp-footer-main pt-80 pb-55" style="background-color: #f5f5f5;">
         <div class="container">
            <div class="row">
               <div class="col-xl-4 col-lg-3 col-sm-6">
                  <div class="tp-footer-widget tp-footer-col-1 mb-30">
                     <div class="tp-footer-widget-logo mb-20 tp-header-logo">
                        <a href="/"><img src="/assets/img/brand/logo-black.png" alt="" style="width: 200px;"></a>
                     </div>
                  </div>
               </div>
               <div class="col-xl-2 col-lg-3 col-sm-6">
                  <div class="tp-footer-widget tp-footer-col-2 mb-30">
                     <h4 class="tp-footer-widget-title mb-20">Quick Links</h4>
                     <div class="tp-footer-widget-link">
                        <ul>
                             <li><a href="/about/">About Us</a></li>
                           <li><a href="/jobs/">Jobs</a></li>
                           <li><a href="/events/">Events</a></li>
                           <li><a href="/newsletters/">Newsletters</a></li>
                           <li><a href="/contact/">Contact Us</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="col-xl-2 col-lg-2 col-sm-4">
                  <div class="tp-footer-widget tp-footer-col-3 mb-30">
                     <h4 class="tp-footer-widget-title mb-20">Alumni</h4>
                     <div class="tp-footer-widget-link">
                        <ul>
                           <li><a href="/benefits/">Alumni Perks & Benefits</a></li>
                           <li><a href="/give-back/">Give Back</a></li>
                           <li><a href="/associations/">Alumni Associations</a></li>
                           <li><a href="/chapters/national/">National Chapters</a></li>
 <li><a href="/chapters/international/">International Chapters</a></li>
                           
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="col-xl-4 col-lg-4 col-sm-8">
                  <div class="p-footer-widget tp-footer-col-4 mb-30">
                     <div class="tp-footer-newsletter-wrap">
                        <div class="tp-footer-newsletter-social">
                           <a class="social-fb" href="https://www.facebook.com/Uni.Lhr.AlumniRelations" target="_blank"><i class="fa-brands fa-facebook-f"></i></a>
                           <a class="social-lnkd" href="https://www.linkedin.com/company/uol-alumni-relations" target="_blank"><i class="fa-brands fa-linkedin-in"></i></a>
                           <a class="social-yout" href="https://www.instagram.com/oar.uol" target="_blank"><i class="fa-brands fa-instagram"></i></a>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="tp-footer-bottom">
         <div class="container">
            <div class="row">
               <div class="col-lg-12">
                  <div class="tp-footer-copyright text-center">
                     <span>Â© 2025 <a href="#">UoL Alumni</a>. All rights reserved by The University of Lahore</span>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </footer>
   <!-- footer-area-end -->

   <!-- JS here -->
   <script src="/assets/js/vendor/jquery.js"></script>
   <script src="/assets/js/vendor/waypoints.js"></script>
   <script src="/assets/js/bootstrap-bundle.js"></script>
   <script src="/assets/js/swiper-bundle.js"></script>
   <script src="/assets/js/slick.js"></script>
   <script src="/assets/js/magnific-popup.js"></script>
   <script src="/assets/js/nice-select.js"></script>
   <script src="/assets/js/purecounter.js"></script>
   <script src="/assets/js/wow.js"></script>
   <script src="/assets/js/isotope-pkgd.js"></script>
   <script src="/assets/js/hover-reveal.js"></script>
   <script src="/assets/js/tween-max.js"></script>
   <script src="/assets/js/imagesloaded-pkgd.js"></script>
   <script src="/assets/js/flatpickr.js"></script>
   <script src="/assets/js/ajax-form.js"></script>
   <script src="/assets/js/main.js"></script>

   <!-- Supabase Client Library -->
   <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

   <script>
      // Supabase Configuration (for fetching member counts)
      const SUPABASE_URL = 'https://gjtcqhtwbohebbovgaou.supabase.co';
      const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdqdGNxaHR3Ym9oZWJib3ZnYW91Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjU3NjYsImV4cCI6MjA3ODM0MTc2Nn0.GxU2S48TD7ZRFqzMbE5XXbkTcQKTmoccU_9e8rwmKzE';

      // Initialize Supabase client
      const supabaseClient = window.supabase?.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

      // Fetch member count for an association (verified members only)
      async function getAssociationMemberCount(associationId) {
         if (!supabaseClient || !associationId) return 0;

         try {
            const { count, error } = await supabaseClient
               .from('tbl_alumni')
               .select('*', { count: 'exact', head: true })
               .eq('association_id', associationId)
               .eq('verify', true);

            if (error) {
               console.error('Error fetching member count:', error);
               return 0;
            }

            return count || 0;
         } catch (error) {
            console.error('Unexpected error fetching member count:', error);
            return 0;
         }
      }

      // Load associations from JSON file
      async function loadAssociations() {
         const container = document.getElementById('associations-list');
         const totalMembersEl = document.getElementById('associations-total-members');

         if (!container) return;

         // Show loading spinner while fetching associations and member counts
         container.innerHTML = `
            <div class="col-12 text-center" style="padding: 60px 20px;">
               <div class="tp-loader-spinner" style="width: 42px; height: 42px; border-radius: 50%; border: 3px solid rgba(171, 12, 47, 0.2); border-top-color: var(--tp-theme-primary); display: inline-block; animation: tp-spin 1s linear infinite; margin-bottom: 20px;"></div>
               <p style="color: #666;">Loading associations...</p>
            </div>
         `;

         try {
            // Fetch associations from JSON file
            const response = await fetch('/assets/data/associations.json');
            
            if (!response.ok) {
               throw new Error('Failed to fetch associations data');
            }

            const associations = await response.json();
            
            if (!associations || associations.length === 0) {
               container.innerHTML = '<div class="col-12"><p class="text-center">No associations available.</p></div>';
               if (totalMembersEl) {
                  totalMembersEl.textContent = '';
               }
               return;
            }

            // Fetch member counts for all associations in parallel
            const associationsWithCounts = await Promise.all(
               associations.map(async (association) => {
                  // Use member count from database if available, otherwise use JSON value
                  const memberCount = await getAssociationMemberCount(association.id);
                  return { 
                     ...association, 
                     memberCount: memberCount > 0 ? memberCount : (association.members || 0)
                  };
               })
            );

            // Calculate and display total members across all associations
            const totalMembers = associationsWithCounts.reduce((sum, association) => {
               const count = typeof association.memberCount === 'number' ? association.memberCount : 0;
               return sum + count;
            }, 0);

            if (totalMembersEl) {
               totalMembersEl.textContent = totalMembers > 0
                  ? totalMembers.toLocaleString()
                  : '0';
            }

            // Clear loading indicator before rendering associations
            container.innerHTML = '';

            // Render associations
            associationsWithCounts.forEach(association => {
               const col = document.createElement('div');
               col.className = 'col-lg-4 col-md-6 mb-30';
               const associationName = association.name || 'Association';
               const associationDescription = association.description || '';
               const associationLogo = association.logo || null;
               
               // Use special page for UCMD (id: 1), otherwise use detail.html
               const detailUrl = association.id === 1 
                  ? '/associations/medicine/' 
                  : `/associations/detail.html?id=${association.id}`;
               
               col.innerHTML = `
                  <div class="tp-financial-item h-100">
                     <div class="tp-financial-thumb">
                        ${associationLogo ? 
                           `<img src="${associationLogo}" alt="${associationName}">` :
                           `<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, var(--tp-theme-primary), rgba(171, 12, 47, 0.7));">
                              <i class="fa-solid fa-users" style="font-size: 60px; color: white;"></i>
                           </div>`
                        }
                     </div>
                     <div class="tp-financial-content">
                        <h4 class="tp-financial-content-title"><a href="${detailUrl}">${associationName}</a></h4>
                        <p>${associationDescription}</p>
                        <div class="tp-financial-members d-flex align-items-center">
                           <span><i class="fa-solid fa-users"></i> ${association.memberCount.toLocaleString()} Members</span>
                        </div>
                        <div class="tp-about-btn">
                           <a class="tp-btn tp-btn-sm" href="${detailUrl}">Learn More</a>
                        </div>
                     </div>
                  </div>
               `;
               container.appendChild(col);
            });
         } catch (error) {
            console.error('Error loading associations:', error);
            container.innerHTML = '<div class="col-12"><p class="text-center">Unable to load associations. Please try again later.</p></div>';
         }
      }

      // Load associations on page load
      loadAssociations();
   </script>

</body>

</html>

